@using CiscaLab.ViewModels
@model List<ExamenPorCategoriaViewModel>

<h2>Seleccionar Exámenes por Categoría</h2>

<form asp-action="GuardarExamenesSeleccionados" method="post">
    @for (int i = 0; i < Model.Count; i++)
    {
        <div class="mb-4">
            <h4>@Model[i].NombreCategoria</h4>
            <ul class="list-group">
                @for (int j = 0; j < Model[i].Examenes.Count; j++)
                {
                    <li class="list-group-item">
                        <input type="checkbox"
                               name="Model[@i].Examenes[@j].Seleccionado"
                               value="true"
                               @(Model[i].Examenes[j].Seleccionado ? "checked" : "") />
                        <input type="hidden" name="Model[@i].Examenes[@j].ExamenId" value="@Model[i].Examenes[j].ExamenId" />
                        @Model[i].Examenes[j].NombreExamen
                    </li>
                }
            </ul>
        </div>
    }

    <button type="submit" class="btn btn-primary">Agregar a orden de trabajo</button>
</form>

